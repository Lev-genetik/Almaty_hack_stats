% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/service.R
\name{gts_build}
\alias{gts_build}
\title{Build a gtsummary table with optional grouping, formatting, p-values, and image saving}
\usage{
gts_build(
  data,
  by = NULL,
  include = NULL,
  stat_cont = "{mean} Â± {sd}",
  stat_cat = "{n} ({p}\%)",
  digits_cont = 1,
  missing_policy = "no",
  add_p = TRUE,
  bold = TRUE
)
}
\arguments{
\item{data}{A data frame containing the variables to summarize.}

\item{by}{Optional. Name of a grouping variable (character string) or `NULL`.}

\item{include}{Optional. Vector of column names to include; `NULL` means all columns.}

\item{stat_cont}{String specifying the statistic format for continuous variables.}

\item{stat_cat}{String specifying the statistic format for categorical variables.}

\item{digits_cont}{Integer, number of decimal places for continuous variables.}

\item{missing_policy}{String indicating how missing data are handled.}

\item{add_p}{Logical, whether to add p-values to the summary table.}

\item{bold}{Logical, whether to bold variable labels.}
}
\value{
A list containing:
\describe{
  \item{tbl}{`gtsummary` object.}
  \item{text}{Plain-text table.}
  \item{vars_used}{Vector of variable names used.}
  \item{vars_info}{String with variable name and class pairs.}
  \item{by}{Name of grouping variable (or `NULL`).}
  \item{image}{Saved PNG file of the table.} # ADDED
}
}
\description{
Creates a `gtsummary::tbl_summary` object from a data frame with optional
grouping variable, column inclusion, statistic formats, p-values, and bold labels.
Also returns plain text output and metadata about variables used.
Additionally, this function saves the table as an image file (`PNG` by default) using [gt::gtsave()]. # ADDED
}
\details{
# ADDED
The image is saved to a fixed file name (`table.png`) in the working directory by default.
You can modify the `gt::gtsave()` call inside the function if you want custom file names or formats.
}
